# Digest Service

Сервис формирования Дайджестов(рассылок).

# Принцип работы сервиса

Сервис ожидает сообщение:
```python
{
    "type": "prepare_digest",
    "data": {
        "user_id": 1
    }
}
```
после чего создает объект Digest для пользователя с указанным id.

Когда Дайджест готов, сервис отправляет сообщение: 
```python
{
    "type": "send_digest",
    "data": {
        "user_id": 1,
        "digest_id": 2,
    }
}
``` 
в очередь `bot_service`

Если Дайджест собрать невозможно, например, нет новых постов[Posts], сервис отправляет сообщение:
```python
{
    "type": "no_digest",
    "data": {
        "user_id": 1
    }
}
```
в очередь `bot_service`